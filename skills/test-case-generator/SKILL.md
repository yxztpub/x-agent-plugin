---
name: test-case-generator
description: 在代码实施之前必须执行此技能；此技能在被调用后，必须立即执行。
---

# Test Case Generator Skill

此技能能够分析开发任务和源代码自动生成测试文档。

## 功能

### 基础功能

1. **测试计划生成**: 创建包含目标、范围、资源、时间表的测试计划书
2. **测试设计生成**: 创建包含测试视角和检查项目的测试设计书
3. **测试用例生成**: 创建包含具体步骤、数据、预期值的测试用例

### 高级功能（差异分析和基于风险的测试）

1. **代码差异分析**: 使用Git diff自动检测变更点，分析变更的影响范围
2. **风险评估**: 基于变更内容自动判断风险级别（Critical/High/Medium/Low）
3. **基于风险的测试**: 对高风险变更实施重点测试
4. **与开发任务文档核对**: 确认变更是否符合开发任务文档的要求

## 使用方法

### 1. 基本使用方法

执行此技能后，将按以下步骤生成测试文档：

1. 确认开发任务文档和源代码的位置
2. 分析文件以确定测试对象
3. 生成测试计划书
4. 生成测试设计书
5. 生成测试用例

### 2. 执行步骤

技能将按以下步骤执行：

#### 步骤1: 收集开发任务文档和源代码
- 搜索开发任务文档文件（默认路径: /project/docs/tasks/<任务>-task.md））
- 搜索相关的源代码文件
- 向用户确认目标文件

#### 步骤2: 生成测试计划

- 从规格说明书中提取目标和范围
- 预估所需资源和时间表
- 基于 `templates/test_plan_template.md` 生成
- 生成结果保存为 `<task_name>_test_plan.md`
- 生成结果按`##输出文件`命名并存放

#### 步骤3: 生成测试设计

- 分析源代码的功能
- 提取测试视角（功能测试、非功能测试等）
- 创建检查项目列表
- 基于 `templates/test_design_template.md` 生成
- 生成结果保存为 `<task_name>_test_design.md`
- 生成结果按`##输出文件`命名并存放

#### 步骤4: 生成测试用例

- 为测试设计的每个检查项目创建测试用例
- 描述具体的测试步骤
- 定义所需的测试数据和预期值
- 基于 `templates/test_case_template.md` 生成
- 生成结果保存为 `<task_name>_test_cases.md`
- 生成结果按`##输出文件`命名并存放

## 模板

技能使用以下模板：

- `templates/test_plan_template.md`: 测试计划书模板
- `templates/test_design_template.md`: 测试设计书模板
- `templates/test_case_template.md`: 测试用例模板

## 输出文件

生成的文件：

```
project/
└── docs/
    └── test/                    # 测试相关文档目录
        ├── <task_name>_test_plan.md              # 任务名测试计划书
        ├── <task_name>_test_design.md            # 任务名测试设计书
        └── <task_name>_test_cases.md             # 任务名测试用例文档
```

## 注意事项

- 支持常见的编程语言（GO, JavaScript, Python, Java, C#等）
- 生成的测试文档务必由人工审查并适当修改
- 安全性、性能等特殊测试要求可能需要额外描述
- 
## 故障排除

### 找不到开发任务文档时

请将开发任务文档放置在项目根目录，或明确指定路径。

### 测试用例不充分时

请确认测试设计，添加缺失的检查项目后重新执行。
